<html>
<head>
   <title>NADS GUI</title>

   <!-- Sets the basepath for the library if not in same directory -->
   <script type="text/javascript">
      mxBasePath = '../static/node_modules/mxgraph/javascript/src';
   </script>

   <script type="text/javascript" src="../static/node_modules/mxgraph/javascript/mxClient.min.js"></script>

   <script type="text/javascript">
      // Program starts here. Creates a sample graph in the
      // DOM node with the specified ID. This function is invoked
      // from the onLoad event handler of the document (see below).
      function main(container)
      {
         // Checks if the browser is supported
         if (!mxClient.isBrowserSupported())
         {
            mxUtils.error('Browser is not supported!', 200, false);
         }
         else
         {
            // Creates the graph inside the given container
            var graph = new mxGraph(container);

            // Enables rubberband selection
            new mxRubberband(graph);

            // Gets the default parent for inserting new cells. This
            // is normally the first child of the root (ie. layer 0).
            var parent = graph.getDefaultParent();

            // Adds cells to the model in a single step
            graph.getModel().beginUpdate();
            try
            {
               var v1 = graph.insertVertex(parent, null,
                        '{{deviceName}}, {{deviceKind}}, {{deviceID}}', 750, 20, 160, 30);
               var v2 = graph.insertVertex(parent, null,
                        'settings', 200, 150, 80, 30);
               var e1 = graph.insertEdge(parent, null, '', v1, v2);
               
               var v3 = graph.insertVertex(parent, null,
                        'name={{setting1Name}}, unit={{setting1Unit}}', 200, 300, 160, 30); //missing 'type' because it causes error
               var e2 = graph.insertEdge(parent, null, '', v2, v3);
               
               var v4 = graph.insertVertex(parent, null,
                        'ports', 1300, 150, 80, 30);
               var e3 = graph.insertEdge(parent, null, '', v1, v4);

               var v5 = graph.insertVertex(parent, null,
                        'name={{ port1Name }}, type={{port1Type}}, unit={{port1Unit}}', 1300, 300, 200, 30);
               var e4 = graph.insertEdge(parent, null, '', v4, v5);

            }
            finally
            {
               // Updates the display
               graph.getModel().endUpdate();
            }
         }
      };
   </script>

</head>

<body>
<!-- Page passes the container for the graph to the program -->

   <!-- Page passes the container for the graph to the program -->
   <body onload="main(document.getElementById('graphContainer'))">
      <!-- Creates a container for the graph with a grid wallpaper -->
      <div id="graphContainer"
         style="position:relative;overflow:auto;width:5000px;height:1000px;background:url('../static/node_modules/mxgraph/javascript/images/grid.gif');cursor:default;">
      </div>
   <h1>Hello</h1>




</body>
</html>
